<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Product Details - QuestNexus</title>
    <link rel="stylesheet" href="styles.css">
    <script src="product.js" defer></script>
</head>
<body>
    <header>
        <h1>QuestNexus</h1>
        <nav>
            <a href="index.html">Home</a>
            <a href="login.html">Login</a>
            <a href="register.html">Register</a>
            <a href="shop.html">Shop</a>
            <a href="settings.html">Settings</a>
        </nav>
    </header>
    <main>
        <section id="product-details" class="product-detail">
            <!-- Product details will be inserted here by JavaScript -->
        </section>
    </main>
    <footer>
        &copy; 2024 QuestNexus. All rights reserved.
    </footer>
    <script>
        // Array of products
        const products = [
            {
                id: 1,
                name: 'Product 1',
                image: 'https://via.placeholder.com/600x400',
                price: '$29.99',
                description: 'Description for Product 1'
            },
            {
                id: 2,
                name: 'Product 2',
                image: 'https://via.placeholder.com/600x400',
                price: '$49.99',
                description: 'Description for Product 2'
            },
            {
                id: 3,
                name: 'Product 3',
                image: 'https://via.placeholder.com/600x400',
                price: '$19.99',
                description: 'Description for Product 3'
            }
            // More products...
        ];

        function getProductById(id) {
            return products.find(product => product.id == id);
        }

        function displayProductDetails() {
            const urlParams = new URLSearchParams(window.location.search);
            const productId = urlParams.get('id');
            const product = getProductById(productId);
            const productDetails = document.getElementById('product-details');

            if (product) {
                productDetails.innerHTML = `
                    <div class="product-detail-container">
                        <div class="product-image">
                            <img src="${product.image}" alt="${product.name}">
                        </div>
                        <div class="product-info">
                            <h1>${product.name}</h1>
                            <p class="price">${product.price}</p>
                            <p class="description">${product.description}</p>
                            <button id="toggle-cart">${isProductInCart(productId) ? 'Return' : 'Buy Now'}</button>
                        </div>
                    </div>
                `;

                document.getElementById('toggle-cart').addEventListener('click', () => {
                    toggleCartStatus(productId);
                });
            } else {
                productDetails.innerHTML = `<p>Product not found.</p>`;
            }
        }

        function isProductInCart(productId) {
            // Mock function to check if the product is in the cart
            return false; // Placeholder
        }

        function toggleCartStatus(productId) {
            // Mock function to add/remove product from cart
            alert(`Product ${productId} cart status toggled.`);
        }

        document.addEventListener('DOMContentLoaded', displayProductDetails);
    </script>
</body>
</html>
